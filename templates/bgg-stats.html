<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title>BGG Stats</title>
  </head>
  <body>
    <div style="width:1200px;height:600px">
        <canvas id="playsByMonth"></canvas>
    </div>
    <div style="width:1200px;height:600px">
        <canvas id="playsByWeekday"></canvas>
    </div>
    <div>
        <h1>Top 10 Games</h1>
        <table>
            <tr>
                <th>Game</th>
                <th>Plays</th>
            </tr>
            {{range $game := .topTenGamesByPlays}}
            <tr>
                <td>{{$game.Name}}</td>
                <td>{{$game.Plays}}</td>
            </tr>
            {{end}}
        </table>
        <div></div>
    </div>
    <div style="margin-top:20px;width:1600px;height:800px">
        <canvas id="gamesByPercentage"></canvas>
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        const playsByMonthCtx = document.getElementById('playsByMonth');
        new Chart(playsByMonthCtx, {
            type: 'bar',
            data: {
                labels: {{ .months }},
                datasets: [{
                    label: 'Plays By Month',
                    data: {{ .playsByMonth }},
                    borderWidth: 1
                }]
            },
            options: {
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            }
        });

        const playsByWeekdayCtx = document.getElementById('playsByWeekday');
        new Chart(playsByWeekdayCtx, {
            type: 'bar',
            data: {
                labels: {{ .weekdays }},
                datasets: [{
                    label: 'Plays By Weekday',
                    data: {{ .playsByWeekday }},
                    borderWidth: 1
                }]
            },
            options: {
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            }
        });

        const gamesByPercentageCtx = document.getElementById('gamesByPercentage');
        new Chart(gamesByPercentageCtx, {
            type: 'pie',
            data: {
                labels: {{ .gameNames }},
                datasets: [{
                    label: ' % plays',
                    data: {{ .gamePercentages }},
                    borderWidth: 1
                }]
            },
            options: {
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            }
        });
    </script>
  </body>
</html>
   